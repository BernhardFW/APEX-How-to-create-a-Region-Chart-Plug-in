var apexchartjs=function(){"use strict";var e={version:"1.2.9",isAPEX:function(){return"undefined"!=typeof apex},debug:{info:function(a){e.isAPEX()&&apex.debug.info(a)},error:function(a){e.isAPEX()?apex.debug.error(a):console.error(a)}},escapeHTML:function(a){if(null===a)return null;if(void 0!==a){if("object"==typeof a)try{a=JSON.stringify(a)}catch(e){}return e.isAPEX()?apex.util.escapeHTML(String(a)):(a=String(a)).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")}},loader:{start:function(a,r){if(r&&$(a).css("min-height","100px"),e.isAPEX())apex.util.showSpinner($(a));else{var s=$("<span></span>");s.attr("id","loader"+a),s.addClass("ct-loader"),s.css("text-align","center"),s.css("width","100%"),s.css("display","block");var t=$("<i></i>");t.addClass("fa fa-refresh fa-2x fa-anim-spin"),t.css("background","rgba(121,121,121,0.6)"),t.css("border-radius","100%"),t.css("padding","15px"),t.css("color","white"),s.append(t),$(a).append(s)}},stop:function(e,a){a&&$(e).css("min-height",""),$(e+" > .u-Processing").remove(),$(e+" > .ct-loader").remove()}},noDataMessage:{show:function(e,a){var r=$("<div></div>").css("margin","12px").css("text-align","center").css("padding","64px 0").addClass("nodatafoundmessage"),s=$("<div></div>"),t=$("<span></span>").addClass("fa").addClass("fa-search").addClass("fa-2x").css("height","32px").css("width","32px").css("color","#D0D0D0").css("margin-bottom","16px");s.append(t);var n=$("<span></span>").text(a).css("display","block").css("color","#707070").css("font-size","12px");r.append(s).append(n),$(e).append(r)},hide:function(e){$(e).children(".nodatafoundmessage").remove()}}};return{render:function(a,r,s,t,n,i,o,p,c,d){function g(){$(l.regionSel).empty(),$(l.regionSel).css("min-height","120px"),e.loader.start(l.parRegionSel);try{apex.server.plugin(s,{pageItems:l.items2Submit},{success:function(a){!function(a,r){if(e.debug.info({module:"renderChart",pData:a,pOptions:r}),a)if(a.length>0){var s={chart:{type:r.chartType,height:r.chartHeight},series:[{name:"Data",data:a}]},t=document.querySelector(r.regionSel);if(new ApexCharts(t,s).render(),"Y"===r.showChartData){var n=$("<div></div>"),i=$("<b></b>");!1!==r.escapeHTML?i.text(r.chartDataLabel):i.html(r.chartDataLabel),i.append(": ");var o=$("<span></span>");o.text(JSON.stringify(a)),n.append(i),n.append(o),$(r.regionSel).append(n)}}else e.noDataMessage.show(r.regionSel,r.noDataMessage);else e.noDataMessage.show(r.regionSel,r.errMsg),e.debug.error("pData is unedefined");e.loader.stop(r.parRegionSel)}(a,l)},error:function(a){e.noDataMessage.show(l.regionSel,l.errMsg),e.debug.error({msg:a.responseText,err:a})},dataType:"json"})}catch(a){e.noDataMessage.show(l.regionSel,l.errMsg),e.debug.error({msg:"Error while try to get Data from APEX",err:a})}}e.debug.info({pRegionID:a,pRefreshID:r,pAjaxID:s,pNoDataFoundMessage:t,pItems2Submit:n,pEscapeRequired:i,pChartHeight:o,pChartType:p,pShowChartData:c,pChartDataLabel:d});var l={errMsg:"Error occured",regionSel:"#"+a,parRegionSel:"#"+r,noDataMessage:t,escapeHTML:i,chartHeight:o,chartType:p,showChartData:c,chartDataLabel:d,items2Submit:n};g();try{apex.jQuery(l.parRegionSel).bind("apexrefresh",function(){g()})}catch(a){e.noDataMessage.show(l.regionSel,l.errMsg),e.debug.error({msg:"Error while try to bind APEX refresh event",err:a})}}}}();