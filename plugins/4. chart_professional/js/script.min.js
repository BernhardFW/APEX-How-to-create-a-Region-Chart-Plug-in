var apexchartjs=function(){"use strict";var e,a={version:"1.2.9",isAPEX:function(){return"undefined"!=typeof apex},debug:{info:function(e){a.isAPEX()&&apex.debug.info(e)},error:function(e){a.isAPEX()?apex.debug.error(e):console.error(e)}},escapeHTML:function(e){if(null===e)return null;if(void 0!==e){if("object"==typeof e)try{e=JSON.stringify(e)}catch(e){}return a.isAPEX()?apex.util.escapeHTML(String(e)):(e=String(e)).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")}},loader:{start:function(e,r){if(r&&$(e).css("min-height","100px"),a.isAPEX())apex.util.showSpinner($(e));else{var s=$("<span></span>");s.attr("id","loader"+e),s.addClass("ct-loader"),s.css("text-align","center"),s.css("width","100%"),s.css("display","block");var t=$("<i></i>");t.addClass("fa fa-refresh fa-2x fa-anim-spin"),t.css("background","rgba(121,121,121,0.6)"),t.css("border-radius","100%"),t.css("padding","15px"),t.css("color","white"),s.append(t),$(e).append(s)}},stop:function(e,a){a&&$(e).css("min-height",""),$(e+" > .u-Processing").remove(),$(e+" > .ct-loader").remove()}},noDataMessage:{show:function(e,a){var r=$("<div></div>").css("margin","12px").css("text-align","center").css("padding","64px 0").addClass("nodatafoundmessage"),s=$("<div></div>"),t=$("<span></span>").addClass("fa").addClass("fa-search").addClass("fa-2x").css("height","32px").css("width","32px").css("color","#D0D0D0").css("margin-bottom","16px");s.append(t);var n=$("<span></span>").text(a).css("display","block").css("color","#707070").css("font-size","12px");r.append(s).append(n),$(e).append(r)},hide:function(e){$(e).children(".nodatafoundmessage").remove()}}};return{render:function(r,s,t,n,o,i,p,c,d,g){function l(){e&&e.destroy(),$(h.regionSel).empty(),$(h.regionSel).css("min-height","120px"),a.loader.start(h.parRegionSel);try{apex.server.plugin(t,{pageItems:h.items2Submit},{success:function(r){!function(r,s){if(a.debug.info({module:"renderChart",pData:r,pOptions:s}),r&&r.rows)if(r.rows.length>0){var t={chart:{type:s.chartType,height:s.chartHeight},series:[{name:"Data",data:r.rows}]},n=document.querySelector(s.regionSel);if((e=new ApexCharts(n,t)).render(),"Y"===s.showChartData){var o=$("<div></div>"),i=$("<b></b>");!1!==s.escapeHTML?i.text(s.chartDataLabel):i.html(s.chartDataLabel),i.append(": ");var p=$("<span></span>");p.text(JSON.stringify(r)),o.append(i),o.append(p),$(s.regionSel).append(o)}}else a.noDataMessage.show(s.regionSel,s.noDataMessage);else a.noDataMessage.show(s.regionSel,s.errMsg),a.debug.error("pData is unedefined");a.loader.stop(s.parRegionSel)}(r,h)},error:function(e){a.loader.stop(h.parRegionSel),a.noDataMessage.show(h.regionSel,h.errMsg),a.debug.error({msg:e.responseText,err:e})},dataType:"json"})}catch(e){a.loader.stop(h.parRegionSel),a.noDataMessage.show(h.regionSel,h.errMsg),a.debug.error({msg:"Error while try to get Data from APEX",err:e})}}a.debug.info({pRegionID:r,pRefreshID:s,pAjaxID:t,pNoDataFoundMessage:n,pItems2Submit:o,pEscapeRequired:i,pChartHeight:p,pChartType:c,pShowChartData:d,pChartDataLabel:g});var h={errMsg:"Error occured",regionSel:"#"+r,parRegionSel:"#"+s,noDataMessage:n,escapeHTML:i,chartHeight:p,chartType:c,showChartData:d,chartDataLabel:g,items2Submit:o};l();try{apex.jQuery(h.parRegionSel).bind("apexrefresh",function(){l()})}catch(e){a.noDataMessage.show(h.regionSel,h.errMsg),a.debug.error({msg:"Error while try to bind APEX refresh event",err:e})}}}}();